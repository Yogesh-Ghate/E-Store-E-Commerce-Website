{% extends 'base.html' %}

{% block 'main' %}
{% load static %}
<div class="row mt-3">
    <!--filter section-->
    <div class="col-md-4 bg-light">
        <h5>Filter by category</h5>
        <hr>
        <p><a href="/catfilter/1" class="anchor">By Mobile</a></p>
        <p><a href="/catfilter/2" class="anchor">By Shoes</a></p>
        <p><a href="/catfilter/3" class="anchor">By Clothes</a></p>
        <h5>Filter by price range</h5>
        <hr>
        <form action="/range">
            <div class="mb-3">
                <label for="input1" class="form-label">Min value:</label>
                <input type="number" class="form-control" id="input1" placeholder="Enter min val" name="min">
            </div>
            <div class="mb-3">
                <label for="input2" class="form-label">Max value:</label>
                <input type="number" class="form-control" id="input2" placeholder="Enter max val" name="max">
            </div>
            <div class="mb-3">
                <input type="submit" class="btn btn-danger" value="Submit">
            </div>
        </form>
        <h5>Sort by price</h5>
        <hr>
        <p><a href="/sort/0" class="anchor">Low to High</a></p>
        <p><a href="/sort/1" class="anchor">High to Low</a></p>
    </div>
    <!--main section-->
    <div class="col-md-8">
      <h3>Products</h3>
      <!--Row 1-->
      <div class="row">
        {% for x in products %}
        <!--card 1-->
        <div class="col-md-4">
          <div class="card" style="width:100%;height:auto;">
            <img src="{{x.pimage.url}}" class="card-img-top" height="250px">
            <div class="card-body">
              <h5 class="card-title">{{x.name}}</h5>
              <p class="card-text">Rs. {{x.price}}</p>
              {% if x.cat == 1 %}
              <p class="card-text">Mobiles</p>
              {% elif x.cat == 2 %}
              <p class="card-text">Shoes</p>
              {% else %}
              <p class="card-text">Clothes</p>
              {% endif %}
              <a href="/pdetails/{{x.id}}" class="btn btn-primary">See details</a>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
 </div> 
{% endblock 'main' %}